!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("react"),require("swr")):"function"==typeof define&&define.amd?define(["exports","react","swr"],r):r((e||self).supabaseSwr={},e.react,e.swr)}(this,function(e,r,t){function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=n(t),o=function(e,r){return[e,r]},i=r.createContext(null),s=function(){var e=r.useContext(i);if(!e)throw new Error("supabase client instance required");return e};function a(e){var t=s();return r.useMemo(function(){return function(e,r){return function(t,n){try{var u=e.from(t).select(n.columns,{count:n.count,head:n.head}),o="function"==typeof n.filter?n.filter(u):u;switch(r){default:case"multiple":return Promise.resolve(o.throwOnError());case"single":return Promise.resolve(o.throwOnError().single());case"maybeSingle":return Promise.resolve(o.throwOnError().maybeSigle());case"csv":return Promise.resolve(o.throwOnError().csv())}}catch(e){return Promise.reject(e)}}}(t,e)},[t,e])}e.SwrSupabaseContext=i,e.createQuery=o,e.useClient=s,e.useQuery=function(e,t,n){return r.useMemo(function(){return o(e,t)},n)},e.useSelect=function(e,r){var t=a("multiple");return u.default(e,t,r)},e.useSelectMaybeSingle=function(e,r){var t=a("maybeSingle");return u.default(e,t,r)},e.useSelectSingle=function(e,r){var t=a("single");return u.default(e,t,r)},e.useSession=function(){var e=s(),t=r.useState(e.auth.session()),n=t[0],u=t[1];return r.useEffect(function(){var r=e.auth.onAuthStateChange(function(e,r){u(r)}).data;return function(){return r.unsubscribe()}},[u,e]),n}});
//# sourceMappingURL=index.esm.umd.js.map
