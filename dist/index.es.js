import{createContext as r,useContext as n,useMemo as e,useState as t,useEffect as u}from"react";import o from"swr";var i=function(r,n){return[r,n]},a=r(null),c=function(){var r=n(a);if(!r)throw new Error("supabase client instance required");return r},s=function(r,n,t){return e(function(){return i(r,n)},t)};function f(r){var n=c();return e(function(){return function(r,n){return function(e,t){try{var u=r.from(e).select(t.columns,{count:t.count,head:t.head}),o="function"==typeof t.filter?t.filter(u):u;switch(n){default:case"multiple":return Promise.resolve(o.throwOnError());case"single":return Promise.resolve(o.throwOnError().single());case"maybeSingle":return Promise.resolve(o.throwOnError().maybeSigle());case"csv":return Promise.resolve(o.throwOnError().csv())}}catch(r){return Promise.reject(r)}}}(n,r)},[n,r])}var l=function(r,n){var e=f("multiple");return o(r,e,n)},m=function(r,n){var e=f("single");return o(r,e,n)},v=function(r,n){var e=f("maybeSingle");return o(r,e,n)},h=function(){var r=c(),n=t(r.auth.session()),e=n[0],o=n[1];return u(function(){var n=r.auth.onAuthStateChange(function(r,n){o(n)}).data;return function(){return n.unsubscribe()}},[o,r]),e};export{a as SwrSupabaseContext,i as createQuery,c as useClient,s as useQuery,l as useSelect,v as useSelectMaybeSingle,m as useSelectSingle,h as useSession};
//# sourceMappingURL=index.es.js.map
